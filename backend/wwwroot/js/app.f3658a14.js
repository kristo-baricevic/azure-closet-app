(function(){"use strict";var e={5397:function(e,t,s){var o=s(9963),i=s(6252);const l={class:"body-container"},n=(0,i._)("nav",{class:"navbar"},[(0,i._)("ul",{class:"navbar-menu"},[(0,i._)("li",null,[(0,i._)("a",{href:"/"},"Kristo's Closet")])])],-1),a={key:0,class:"desktop-layout"},c={class:"photostream-container resizable"},r={class:"outfit-view-container resizable"},d={key:1,class:"mobile-layout"},m={class:"photostream-container resizable"},u={class:"outfit-view-container resizable"};function g(e,t,s,o,g,h){const p=(0,i.up)("ImageUploader"),v=(0,i.up)("PhotoStream"),f=(0,i.up)("OutfitView");return(0,i.wg)(),(0,i.iD)("div",l,[n,(0,i._)("div",null,[(0,i.Wm)(p,{msg:"Welcome to The Image Uploader!",onImageUploaded:h.refreshPhotostream},null,8,["onImageUploaded"])]),g.isDesktop?((0,i.wg)(),(0,i.iD)("div",a,[(0,i._)("div",c,[(0,i.Wm)(v,{images:e.images,ref:"photostream",onImageDeleted:h.refreshPhotostream},null,8,["images","onImageDeleted"])]),(0,i._)("div",r,[(0,i.Wm)(f,{class:"outfit-view-desktop"})])])):((0,i.wg)(),(0,i.iD)("div",d,[(0,i._)("div",m,[(0,i.Wm)(v,{images:e.images,ref:"photostream",onImageDeleted:h.refreshPhotostream},null,8,["images","onImageDeleted"])]),(0,i._)("div",u,[(0,i.Wm)(f,{class:"outfit-view-mobile"})])]))])}const h=e=>((0,i.dD)("data-v-79e7234e"),e=e(),(0,i.Cn)(),e),p=h((()=>(0,i._)("h1",null,"Image Classification",-1))),v=h((()=>(0,i._)("label",{for:"category"},"Category:",-1))),f=(0,i.uE)('<option value="Top" data-v-79e7234e>Top</option><option value="Bottom" data-v-79e7234e>Bottom</option><option value="Top" data-v-79e7234e>One-piece</option><option value="Shoes" data-v-79e7234e>Shoes</option><option value="Hat" data-v-79e7234e>Hat</option><option value="Accessory" data-v-79e7234e>Accessory</option>',6),I=[f],k=h((()=>(0,i._)("button",{id:"classifyButton",type:"submit"},"Classify Image",-1))),w=h((()=>(0,i._)("p",{id:"resultLabel"},null,-1))),y={id:"imageContainer"},b=["src"];function _(e,t,s,l,n,a){return(0,i.wg)(),(0,i.iD)("div",null,[p,(0,i._)("form",{id:"imageForm",onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>a.classifyImage&&a.classifyImage(...e)),["prevent"]))},[v,(0,i.wy)((0,i._)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedCategory=e),required:""},I,512),[[o.bM,n.selectedCategory]]),(0,i._)("input",{type:"file",id:"imageFile",accept:".jpg,.jpeg,.png,.gif",required:"",onChange:t[1]||(t[1]=(...e)=>a.handleFileUpload&&a.handleFileUpload(...e))},null,32),k],32),w,(0,i._)("div",y,[n.imageUrl?((0,i.wg)(),(0,i.iD)("img",{key:0,id:"uploadedImage",alt:"Uploaded Image",src:n.imageUrl},null,8,b)):(0,i.kq)("",!0)])])}s(2062);var D={name:"ImageUploader",data(){return{imageUrl:null,selectedCategory:""}},methods:{handleFileUpload(e){const t=e.target.files[0];this.imageUrl=URL.createObjectURL(t)},classifyImage(){const e=document.getElementById("imageFile").files[0],t=new FormData;t.append("imageFile",e),t.append("category",this.selectedCategory),fetch("/backend/Upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{this.imageUrl=null,this.$emit("imageUploaded"),console.log(e)})).catch((e=>{console.log(e)}))}}},C=s(3744);const U=(0,C.Z)(D,[["render",_],["__scopeId","data-v-79e7234e"]]);var S=U,P=s(3577);const z={key:0},O=(0,i._)("h1",null,"Photo Stream",-1),j={class:"photo-stream"},E=["onClick"],F=["src"],L={class:"card-info"},T=["onClick"],W={class:"image-category"},R=["onClick"],x={key:1},H=(0,i._)("h1",null,"Photo Stream",-1),q={class:"photo-stream"},A=["onClick"],B=["src"],K={class:"card-info"},Y=["onClick"],Z={class:"image-category"},$=["onClick"];function V(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("div",null,[l.isDesktop?((0,i.wg)(),(0,i.iD)("div",z,[O,(0,i._)("div",j,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.images,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"card",key:e.id,onClick:t=>n.openImage(e)},[(0,i._)("img",{class:"card-image",src:n.getImageUrl(e.data),alt:"Photo"},null,8,F),(0,i._)("div",L,[(0,i._)("button",{class:"delete-button",onClick:t=>n.deleteImage(e.id)},"Delete",8,T),(0,i._)("div",W,(0,P.zw)(e.category),1),(0,i._)("button",{class:"select-button",onClick:t=>n.selectImage(e)},"Select",8,R)])],8,E)))),128))])])):((0,i.wg)(),(0,i.iD)("div",x,[H,(0,i._)("div",q,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.images,(e=>((0,i.wg)(),(0,i.iD)("div",{class:"card",key:e.id,onClick:t=>n.openImage(e)},[(0,i._)("img",{class:"card-image",src:n.getImageUrl(e.data),alt:"Photo"},null,8,B),(0,i._)("div",K,[(0,i._)("button",{class:"delete-button",onClick:t=>n.deleteImage(e.id)},"Delete",8,Y),(0,i._)("div",Z,(0,P.zw)(e.category),1),(0,i._)("button",{class:"select-button",onClick:t=>n.selectImage(e)},"Select",8,$)])],8,A)))),128))])]))])}s(2801),s(8675),s(3408),s(4590),s(3462),s(1439),s(7585),s(5315),s(7658);var M={data(){return{isDesktop:!1,images:[],selectedItems:{shoes:null,bottom:null,top:null,onePiece:null,hat:null,accessories:[]}}},mounted(){this.fetchImages(),this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},openImage(){},getImageUrl(e){try{if(!e)return console.error("Invalid image data:",e),null;const t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const o=new Blob([s.buffer],{type:"image/jpeg"});return URL.createObjectURL(o)}catch(t){return console.error("Error converting image data:",t),null}},async fetchImages(){try{const e=await fetch("/backend/Images"),t=await e.json();console.log("Retrieved images:",t),this.images=t}catch(e){console.error("Failed to fetch images:",e)}},async deleteImage(e){try{const t=await fetch(`/backend/Images/${e}`,{method:"DELETE"});t.ok?(console.log("Image deleted:",e),this.$emit("imageDeleted")):console.error("Failed to delete image:",e)}catch(t){console.error("Error deleting image:",t)}},selectImage(e){const{category:t}=e;if("shoes"===t)this.selectedItems.shoes=e,this.selectedItems.onePiece=null,this.selectedItems.top=null,this.selectedItems.bottom=null;else if("bottom"===t)this.selectedItems.bottom=e,this.selectedItems.onePiece=null,this.selectedItems.top=null;else if("top"===t)this.selectedItems.top=e,this.selectedItems.onePiece=null,this.selectedItems.bottom=null;else if("hat"===t)this.selectedItems.hat=e;else if("accessories"===t){if(this.selectedItems.accessories.length>=3)return;this.selectedItems.accessories.push(e)}else"onePiece"===t&&(this.selectedItems.onePiece=e,this.selectedItems.shoes=null,this.selectedItems.bottom=null,this.selectedItems.top=null)}}};const N=(0,C.Z)(M,[["render",V]]);var G=N;const J={key:0},Q={class:"outfit-view-desktop"},X={class:"outfit-view"},ee=["onClick"],te={key:0,class:"empty-message"},se={key:1},oe={class:"outfit-view-mobile"},ie={class:"outfit-view"},le=["onClick"],ne={key:0,class:"empty-message"};function ae(e,t,s,o,l,n){return(0,i.wg)(),(0,i.iD)("div",null,[l.isDesktop?((0,i.wg)(),(0,i.iD)("div",J,[(0,i._)("div",Q,[(0,i._)("div",X,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedItems,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"item"},[(0,i.Uk)((0,P.zw)(e)+" ",1),(0,i._)("button",{onClick:s=>n.removeItem(e,t)},"Remove",8,ee)])))),128)),0===Object.keys(l.selectedItems).length?((0,i.wg)(),(0,i.iD)("div",te,"No items selected")):(0,i.kq)("",!0)])])])):((0,i.wg)(),(0,i.iD)("div",se,[(0,i._)("div",oe,[(0,i._)("div",ie,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(l.selectedItems,((e,t)=>((0,i.wg)(),(0,i.iD)("div",{key:t,class:"item"},[(0,i.Uk)((0,P.zw)(e)+" ",1),(0,i._)("button",{onClick:s=>n.removeItem(e,t)},"Remove",8,le)])))),128)),0===Object.keys(l.selectedItems).length?((0,i.wg)(),(0,i.iD)("div",ne,"No items selected")):(0,i.kq)("",!0)])])]))])}var ce={data(){return{selectedItems:{shoes:null,bottom:null,top:null,onePiece:null,hat:null,accessories:[]},isDesktop:!1}},methods:{addItem(e,t){if("accessories"===t){if(this.selectedItems.accessories.length>=3)return;this.selectedItems.accessories.push(e)}else if("onePiece"===t)this.selectedItems.top=null,this.selectedItems.bottom=null,this.selectedItems.onePiece=e;else{if(this.selectedItems.onePiece)return;this.selectedItems[t]=e}},removeItem(e,t){if("accessories"===t){const t=this.selectedItems.accessories.indexOf(e);-1!==t&&this.selectedItems.accessories.splice(t,1)}else"onePiece"===t?this.selectedItems.onePiece=null:this.selectedItems[t]=null}}};const re=(0,C.Z)(ce,[["render",ae],["__scopeId","data-v-35836b62"]]);var de=re,me={name:"App",components:{ImageUploader:S,PhotoStream:G,OutfitView:de},data(){return{isDesktop:!1}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmounted(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},refreshPhotostream(){this.$refs.photostream.fetchImages()}}};const ue=(0,C.Z)(me,[["render",g]]);var ge=ue;(0,o.ri)(ge).mount("#app")}},t={};function s(o){var i=t[o];if(void 0!==i)return i.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,o,i,l){if(!o){var n=1/0;for(d=0;d<e.length;d++){o=e[d][0],i=e[d][1],l=e[d][2];for(var a=!0,c=0;c<o.length;c++)(!1&l||n>=l)&&Object.keys(s.O).every((function(e){return s.O[e](o[c])}))?o.splice(c--,1):(a=!1,l<n&&(n=l));if(a){e.splice(d--,1);var r=i();void 0!==r&&(t=r)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,i,l]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var i,l,n=o[0],a=o[1],c=o[2],r=0;if(n.some((function(t){return 0!==e[t]}))){for(i in a)s.o(a,i)&&(s.m[i]=a[i]);if(c)var d=c(s)}for(t&&t(o);r<n.length;r++)l=n[r],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},o=self["webpackChunkyour_vue_project"]=self["webpackChunkyour_vue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(5397)}));o=s.O(o)})();
//# sourceMappingURL=app.f3658a14.js.map