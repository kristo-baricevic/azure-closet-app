(function(){"use strict";var e={1661:function(e,t,s){var o=s(9963),l=s(6252);const c={class:"body-container"},a=(0,l._)("nav",{class:"navbar"},[(0,l._)("ul",{class:"navbar-menu"},[(0,l._)("li",null,[(0,l._)("a",{href:"/"},"Kristo's Closet")])])],-1),i={class:"image-uploader-container"},n={key:0,class:"desktop-layout"},r={class:"photostream-container"},d={class:"outfit-view-container"},m={key:1,class:"mobile-layout"},g={class:"photostream-container"},u={class:"outfit-view-container"};function h(e,t,s,o,h,I){const v=(0,l.up)("ImageUploader"),p=(0,l.up)("PhotoStream"),f=(0,l.up)("OutfitView");return(0,l.wg)(),(0,l.iD)("div",c,[a,(0,l._)("div",i,[(0,l.Wm)(v,{msg:"Welcome to The Image Uploader!",onImageUploaded:I.refreshPhotostream},null,8,["onImageUploaded"])]),h.isDesktop?((0,l.wg)(),(0,l.iD)("div",n,[(0,l._)("div",r,[(0,l.Wm)(p,{selectedItems:h.selectedItems,images:s.images,ref:"photostream",onImageDeleted:I.refreshPhotostream,onSelectImage:I.handleSelectImage},null,8,["selectedItems","images","onImageDeleted","onSelectImage"])]),(0,l._)("div",d,[(0,l.Wm)(f,{selectedItems:h.selectedItems,onRemoveItem:I.handleRemoveItem,class:"outfit-view-desktop"},null,8,["selectedItems","onRemoveItem"])])])):((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",g,[(0,l.Wm)(p,{selectedItems:h.selectedItems,localSelectedItems:e.localSelectedItems,images:s.images,ref:"photostream",onImageDeleted:I.refreshPhotostream,onSelectImage:I.handleSelectImage},null,8,["selectedItems","localSelectedItems","images","onImageDeleted","onSelectImage"])]),(0,l._)("div",u,[(0,l.Wm)(f,{selectedItems:h.selectedItems,onRemoveItem:I.handleRemoveItem,class:"outfit-view-mobile"},null,8,["selectedItems","onRemoveItem"])])]))])}s(7658);const I=e=>((0,l.dD)("data-v-ef2b5118"),e=e(),(0,l.Cn)(),e),v=I((()=>(0,l._)("h1",null,"Image Classification",-1))),p=I((()=>(0,l._)("label",{for:"category"},"Category:",-1))),f=(0,l.uE)('<option value="Top" data-v-ef2b5118>Top</option><option value="Bottom" data-v-ef2b5118>Bottom</option><option value="onePiece" data-v-ef2b5118>One-piece</option><option value="Shoes" data-v-ef2b5118>Shoes</option><option value="Hat" data-v-ef2b5118>Hat</option><option value="Accessory" data-v-ef2b5118>Accessory</option>',6),y=[f],w=I((()=>(0,l._)("button",{id:"classifyButton",type:"submit"},"Classify Image",-1))),k=I((()=>(0,l._)("p",{id:"resultLabel"},null,-1))),b={id:"imageContainer"},_=["src"];function S(e,t,s,c,a,i){return(0,l.wg)(),(0,l.iD)("div",null,[v,(0,l._)("form",{id:"imageForm",onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>i.classifyImage&&i.classifyImage(...e)),["prevent"]))},[p,(0,l.wy)((0,l._)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>a.selectedCategory=e),required:""},y,512),[[o.bM,a.selectedCategory]]),(0,l._)("input",{type:"file",id:"imageFile",accept:".jpg,.jpeg,.png,.gif",required:"",onChange:t[1]||(t[1]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e))},null,32),w],32),k,(0,l._)("div",b,[a.imageUrl?((0,l.wg)(),(0,l.iD)("img",{key:0,id:"uploadedImage",alt:"Uploaded Image",src:a.imageUrl},null,8,_)):(0,l.kq)("",!0)])])}s(2062);var D={name:"ImageUploader",data(){return{imageUrl:null,selectedCategory:""}},methods:{handleFileUpload(e){const t=e.target.files[0];this.imageUrl=URL.createObjectURL(t)},classifyImage(){const e=document.getElementById("imageFile").files[0],t=new FormData;t.append("imageFile",e),t.append("category",this.selectedCategory),fetch("/backend/Upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{this.imageUrl=null,this.$emit("imageUploaded"),console.log(e)})).catch((e=>{console.log(e)}))}}},C=s(3744);const U=(0,C.Z)(D,[["render",S],["__scopeId","data-v-ef2b5118"]]);var O=U,L=s(3577);const j=e=>((0,l.dD)("data-v-2af5abda"),e=e(),(0,l.Cn)(),e),R={key:0},z=j((()=>(0,l._)("h1",null,"Photo Stream",-1))),A={class:"photo-stream"},P=["onClick"],E=["src"],F={class:"card-info"},q=["onClick"],H={class:"image-category"},W=["onClick"],x={key:1},K=j((()=>(0,l._)("h1",null,"Photo Stream",-1))),T={class:"photo-stream"},$=["onClick"],B=["src"],Y={class:"card-info"},G=["onClick"],Z={class:"image-category"},N=["onClick"];function V(e,t,s,o,c,a){return(0,l.wg)(),(0,l.iD)("div",null,[c.isDesktop?((0,l.wg)(),(0,l.iD)("div",R,[z,(0,l._)("div",A,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.images,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:e.id,onClick:t=>a.openImage(e)},[(0,l._)("img",{class:"card-image",src:a.getImageUrl(e.data),alt:"Photo"},null,8,E),(0,l._)("div",F,[(0,l._)("button",{class:"delete-button",onClick:t=>a.deleteImage(e.id)},"Delete",8,q),(0,l._)("div",H,(0,L.zw)(e.category),1),(0,l._)("button",{class:"select-button",onClick:t=>a.handleSelectImage(e)},"Select",8,W)])],8,P)))),128))])])):((0,l.wg)(),(0,l.iD)("div",x,[K,(0,l._)("div",T,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(c.images,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:e.id,onClick:t=>a.openImage(e)},[(0,l._)("img",{class:"card-image",src:a.getImageUrl(e.data),alt:"Photo"},null,8,B),(0,l._)("div",Y,[(0,l._)("button",{class:"delete-button",onClick:t=>a.deleteImage(e.id)},"Delete",8,G),(0,l._)("div",Z,(0,L.zw)(e.category),1),(0,l._)("button",{class:"select-button",onClick:t=>a.handleSelectImage(e)},"Select",8,N)])],8,$)))),128))])]))])}s(2801),s(8675),s(3408),s(4590),s(3462),s(1439),s(7585),s(5315);var M={data(){return{isDesktop:!1,images:[]}},mounted(){this.fetchImages(),this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},openImage(){},getImageUrl(e){try{if(!e)return console.error("Invalid image data:",e),null;const t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const o=new Blob([s.buffer],{type:"image/jpeg"});return URL.createObjectURL(o)}catch(t){return console.error("Error converting image data:",t),null}},async fetchImages(){try{const e=await fetch("/backend/Images"),t=await e.json();console.log("Retrieved images:",t),this.images=t}catch(e){console.error("Failed to fetch images:",e)}},async deleteImage(e){try{const t=await fetch(`/backend/Images/${e}`,{method:"DELETE"});t.ok?(console.log("Image deleted:",e),this.$emit("imageDeleted")):console.error("Failed to delete image:",e)}catch(t){console.error("Error deleting image:",t)}},handleSelectImage(e){this.$emit("selectImage",e),console.log("handleSelectImage connected:",e)}}};const J=(0,C.Z)(M,[["render",V],["__scopeId","data-v-2af5abda"]]);var Q=J;const X={key:0,class:"outfit-view-desktop"},ee={class:"outfit-view"},te={class:"item-image-wrapper"},se=["src"],oe={class:"item-info"},le=["onClick"],ce={key:0,class:"accessories"},ae={class:"item-image-wrapper"},ie=["src"],ne={class:"item-info"},re=(0,l._)("div",null," Accessory ",-1),de=["onClick"],me={key:1,class:"empty-message"},ge={key:1,class:"outfit-view-mobile"},ue={class:"outfit-view"},he={class:"item-image-wrapper"},Ie=["src"],ve={class:"item-info"},pe=["onClick"],fe={key:0,class:"accessories"},ye={class:"item-image-wrapper"},we=["src"],ke={class:"item-info"},be=(0,l._)("div",null," Accessory ",-1),_e=["onClick"],Se={key:1,class:"empty-message"};function De(e,t,s,o,c,a){return(0,l.wg)(),(0,l.iD)("div",null,[c.isDesktop?((0,l.wg)(),(0,l.iD)("div",X,[(0,l._)("div",ee,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.filteredSelectedItems,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"item"},[(0,l._)("div",te,[e?((0,l.wg)(),(0,l.iD)("img",{key:0,src:a.getImageUrl(e),alt:"Selected Item"},null,8,se)):(0,l.kq)("",!0)]),(0,l._)("div",oe,[(0,l._)("div",null,(0,L.zw)(t),1),(0,l._)("button",{onClick:s=>a.removeItem(e,t)},"Remove",8,le)])])))),128)),s.selectedItems.accessory.length>0?((0,l.wg)(),(0,l.iD)("div",ce,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.selectedItems.accessory,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"item"},[(0,l._)("div",ae,[(0,l._)("img",{src:a.getImageUrl(e),alt:"Selected Accessory"},null,8,ie)]),(0,l._)("div",ne,[re,(0,l._)("button",{onClick:t=>a.removeItem(e,"accessory")},"Remove",8,de)])])))),128))])):(0,l.kq)("",!0),0===Object.keys(s.selectedItems).length&&0===s.selectedItems.accessory.length?((0,l.wg)(),(0,l.iD)("div",me," No items selected ")):(0,l.kq)("",!0)])])):((0,l.wg)(),(0,l.iD)("div",ge,[(0,l._)("div",ue,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.filteredSelectedItems,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"item"},[(0,l._)("div",he,[e?((0,l.wg)(),(0,l.iD)("img",{key:0,src:a.getImageUrl(e),alt:"Selected Item"},null,8,Ie)):(0,l.kq)("",!0)]),(0,l._)("div",ve,[(0,l._)("div",null,(0,L.zw)(t),1),(0,l._)("button",{onClick:s=>a.removeItem(e,t)},"Remove",8,pe)])])))),128)),s.selectedItems.accessory.length>0?((0,l.wg)(),(0,l.iD)("div",fe,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(s.selectedItems.accessory,(e=>((0,l.wg)(),(0,l.iD)("div",{key:e.id,class:"item"},[(0,l._)("div",ye,[(0,l._)("img",{src:a.getImageUrl(e),alt:"Selected Accessory"},null,8,we)]),(0,l._)("div",ke,[be,(0,l._)("button",{onClick:t=>a.removeItem(e,"accessory")},"Remove",8,_e)])])))),128))])):(0,l.kq)("",!0),0===Object.keys(s.selectedItems).length&&0===s.selectedItems.accessory.length?((0,l.wg)(),(0,l.iD)("div",Se," No items selected ")):(0,l.kq)("",!0)])]))])}var Ce={props:{selectedItems:{type:Object}},data(){return{isDesktop:!1}},mounted(){console.log("selectedItems prop:",this.selectedItems)},computed:{filteredSelectedItems(){return Object.keys(this.selectedItems).reduce(((e,t)=>("accessory"!==t&&(e[t]=this.selectedItems[t]),e)),{})}},methods:{removeItem(e,t){if(console.log("remove items clicked",e),console.log("remove categories clicked",t),"accessory"===t){const s=this.selectedItems.accessory.indexOf(e);-1!==s&&this.$emit("removeItem",e,t)}else this.$emit("removeItem",this.selectedItems[t],t);console.log("remove items has run",t)},getImageUrl(e){console.log(e),console.log(e.data);const t=e.data;console.log(t);try{if(!e)return console.error("Invalid image data:",e),null;const s=atob(t),o=new Uint8Array(s.length);for(let e=0;e<s.length;e++)o[e]=s.charCodeAt(e);const l=new Blob([o.buffer],{type:"image/jpeg"});return URL.createObjectURL(l)}catch(s){return console.error("Error converting image data:",s),null}}}};const Ue=(0,C.Z)(Ce,[["render",De]]);var Oe=Ue,Le={name:"App",components:{ImageUploader:O,PhotoStream:Q,OutfitView:Oe},props:{images:{type:Array,default:()=>[]}},data(){return{isDesktop:!1,selectedItems:{hat:null,top:null,bottom:null,onepiece:null,shoes:null,accessory:[]}}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},refreshPhotostream(){this.$refs.photostream.fetchImages()},handleSelectImage(e){const{category:t}=e;if(console.log("handleSelectImage hit:",e),console.log("handleSelectImage hit:",e),"shoes"===t.toLowerCase())console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.shoes=e;else if("bottom"===t.toLowerCase())console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.bottom=e,this.selectedItems.onepiece=null;else if("top"===t.toLowerCase())console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.top=e,this.selectedItems.onepiece=null;else if("hat"===t.toLowerCase())console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.hat=e;else if("accessory"===t.toLowerCase())if(console.log("handleSelectImage Accessory hit:",t),3===this.selectedItems.accessory.length)console.log("too many accessories");else{this.selectedItems.accessory.push(e);const t=this.selectedItems.accessory[0].data;console.log(t),console.log("accessory added"),console.log("accessory list:",this.selectedItems.accessory[0].id)}else"onepiece"===t.toLowerCase()&&(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.onepiece=e,this.selectedItems.top=null,this.selectedItems.bottom=null);console.log("Updated selectedItems:",this.selectedItems)},handleRemoveItem(e,t){if(console.log("handleRemoveItem ran:",t),"accessory"===t){const t=this.selectedItems.accessory.indexOf(e);-1!==t&&this.selectedItems.accessory.splice(t,1)}else console.log("else remove RAN:",this.selectedItems[t]),this.selectedItems[t]=null}}};const je=(0,C.Z)(Le,[["render",h]]);var Re=je;(0,o.ri)(Re).mount("#app")}},t={};function s(o){var l=t[o];if(void 0!==l)return l.exports;var c=t[o]={exports:{}};return e[o].call(c.exports,c,c.exports,s),c.exports}s.m=e,function(){var e=[];s.O=function(t,o,l,c){if(!o){var a=1/0;for(d=0;d<e.length;d++){o=e[d][0],l=e[d][1],c=e[d][2];for(var i=!0,n=0;n<o.length;n++)(!1&c||a>=c)&&Object.keys(s.O).every((function(e){return s.O[e](o[n])}))?o.splice(n--,1):(i=!1,c<a&&(a=c));if(i){e.splice(d--,1);var r=l();void 0!==r&&(t=r)}}return t}c=c||0;for(var d=e.length;d>0&&e[d-1][2]>c;d--)e[d]=e[d-1];e[d]=[o,l,c]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var l,c,a=o[0],i=o[1],n=o[2],r=0;if(a.some((function(t){return 0!==e[t]}))){for(l in i)s.o(i,l)&&(s.m[l]=i[l]);if(n)var d=n(s)}for(t&&t(o);r<a.length;r++)c=a[r],s.o(e,c)&&e[c]&&e[c][0](),e[c]=0;return s.O(d)},o=self["webpackChunkyour_vue_project"]=self["webpackChunkyour_vue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(1661)}));o=s.O(o)})();
//# sourceMappingURL=app.a3f9cc9e.js.map