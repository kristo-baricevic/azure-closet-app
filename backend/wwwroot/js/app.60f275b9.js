(function(){"use strict";var e={5776:function(e,t,s){var o=s(9963),a=s(6252);const l={class:"body-container"},i=(0,a._)("nav",{class:"navbar"},[(0,a._)("ul",{class:"navbar-menu"},[(0,a._)("li",null,[(0,a._)("a",{href:"/"},"Kristo's Closet")])])],-1),n={key:0,class:"desktop-layout"},c={class:"photostream-container resizable"},r={class:"outfit-view-container resizable"},d={key:1,class:"mobile-layout"},m={class:"photostream-container resizable"},g={class:"outfit-view-container resizable"};function u(e,t,s,o,u,h){const p=(0,a.up)("ImageUploader"),v=(0,a.up)("PhotoStream"),I=(0,a.up)("OutfitView");return(0,a.wg)(),(0,a.iD)("div",l,[i,(0,a._)("div",null,[(0,a.Wm)(p,{msg:"Welcome to The Image Uploader!",onImageUploaded:h.refreshPhotostream},null,8,["onImageUploaded"])]),u.isDesktop?((0,a.wg)(),(0,a.iD)("div",n,[(0,a._)("div",c,[(0,a.Wm)(v,{selectedItems:u.selectedItems,images:s.images,ref:"photostream",onImageDeleted:h.refreshPhotostream,onSelectedItemsUpdated:e.localSelectedItems},null,8,["selectedItems","images","onImageDeleted","onSelectedItemsUpdated"])]),(0,a._)("div",r,[(0,a.Wm)(I,{selectedItems:u.selectedItems,onRemoveItem:h.handleRemoveItem,class:"outfit-view-desktop"},null,8,["selectedItems","onRemoveItem"])])])):((0,a.wg)(),(0,a.iD)("div",d,[(0,a._)("div",m,[(0,a.Wm)(v,{selectedItems:u.selectedItems,localSelectedItems:e.localSelectedItems,images:s.images,ref:"photostream",onImageDeleted:h.refreshPhotostream,onSelectedItemsUpdated:e.localSelectedItems},null,8,["selectedItems","localSelectedItems","images","onImageDeleted","onSelectedItemsUpdated"])]),(0,a._)("div",g,[(0,a.Wm)(I,{selectedItems:u.selectedItems,onRemoveItem:h.handleRemoveItem,class:"outfit-view-mobile"},null,8,["selectedItems","onRemoveItem"])])]))])}s(7658);const h=e=>((0,a.dD)("data-v-a5d363aa"),e=e(),(0,a.Cn)(),e),p=h((()=>(0,a._)("h1",null,"Image Classification",-1))),v=h((()=>(0,a._)("label",{for:"category"},"Category:",-1))),I=(0,a.uE)('<option value="Top" data-v-a5d363aa>Top</option><option value="Bottom" data-v-a5d363aa>Bottom</option><option value="Top" data-v-a5d363aa>One-piece</option><option value="Shoes" data-v-a5d363aa>Shoes</option><option value="Hat" data-v-a5d363aa>Hat</option><option value="Accessory" data-v-a5d363aa>Accessory</option>',6),f=[I],y=h((()=>(0,a._)("button",{id:"classifyButton",type:"submit"},"Classify Image",-1))),k=h((()=>(0,a._)("p",{id:"resultLabel"},null,-1))),w={id:"imageContainer"},b=["src"];function _(e,t,s,l,i,n){return(0,a.wg)(),(0,a.iD)("div",null,[p,(0,a._)("form",{id:"imageForm",onSubmit:t[2]||(t[2]=(0,o.iM)(((...e)=>n.classifyImage&&n.classifyImage(...e)),["prevent"]))},[v,(0,a.wy)((0,a._)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>i.selectedCategory=e),required:""},f,512),[[o.bM,i.selectedCategory]]),(0,a._)("input",{type:"file",id:"imageFile",accept:".jpg,.jpeg,.png,.gif",required:"",onChange:t[1]||(t[1]=(...e)=>n.handleFileUpload&&n.handleFileUpload(...e))},null,32),y],32),k,(0,a._)("div",w,[i.imageUrl?((0,a.wg)(),(0,a.iD)("img",{key:0,id:"uploadedImage",alt:"Uploaded Image",src:i.imageUrl},null,8,b)):(0,a.kq)("",!0)])])}s(2062);var D={name:"ImageUploader",data(){return{imageUrl:null,selectedCategory:""}},methods:{handleFileUpload(e){const t=e.target.files[0];this.imageUrl=URL.createObjectURL(t)},classifyImage(){const e=document.getElementById("imageFile").files[0],t=new FormData;t.append("imageFile",e),t.append("category",this.selectedCategory),fetch("/backend/Upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{this.imageUrl=null,this.$emit("imageUploaded"),console.log(e)})).catch((e=>{console.log(e)}))}}},S=s(3744);const U=(0,S.Z)(D,[["render",_],["__scopeId","data-v-a5d363aa"]]);var C=U,O=s(3577);const j=e=>((0,a.dD)("data-v-70e0de69"),e=e(),(0,a.Cn)(),e),z={key:0},P=j((()=>(0,a._)("h1",null,"Photo Stream",-1))),R={class:"photo-stream"},E=["onClick"],L=["src"],F={class:"card-info"},A=["onClick"],T={class:"image-category"},W=["onClick"],q={key:1},$=j((()=>(0,a._)("h1",null,"Photo Stream",-1))),x={class:"photo-stream"},B=["onClick"],H=["src"],K={class:"card-info"},Y=["onClick"],Z={class:"image-category"},V=["onClick"];function M(e,t,s,o,l,i){return(0,a.wg)(),(0,a.iD)("div",null,[l.isDesktop?((0,a.wg)(),(0,a.iD)("div",z,[P,(0,a._)("div",R,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.images,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card",key:e.id,onClick:t=>i.openImage(e)},[(0,a._)("img",{class:"card-image",src:i.getImageUrl(e.data),alt:"Photo"},null,8,L),(0,a._)("div",F,[(0,a._)("button",{class:"delete-button",onClick:t=>i.deleteImage(e.id)},"Delete",8,A),(0,a._)("div",T,(0,O.zw)(e.category),1),(0,a._)("button",{class:"select-button",onClick:t=>i.handleSelectImage(e)},"Select",8,W)])],8,E)))),128))])])):((0,a.wg)(),(0,a.iD)("div",q,[$,(0,a._)("div",x,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(l.images,(e=>((0,a.wg)(),(0,a.iD)("div",{class:"card",key:e.id,onClick:t=>i.openImage(e)},[(0,a._)("img",{class:"card-image",src:i.getImageUrl(e.data),alt:"Photo"},null,8,H),(0,a._)("div",K,[(0,a._)("button",{class:"delete-button",onClick:t=>i.deleteImage(e.id)},"Delete",8,Y),(0,a._)("div",Z,(0,O.zw)(e.category),1),(0,a._)("button",{class:"select-button",onClick:t=>i.handleSelectImage(e)},"Select",8,V)])],8,B)))),128))])]))])}s(2801),s(8675),s(3408),s(4590),s(3462),s(1439),s(7585),s(5315);var N={data(){return{isDesktop:!1,images:[]}},props:{selectedItems:{type:Object}},mounted(){this.fetchImages(),this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},openImage(){},getImageUrl(e){try{if(!e)return console.error("Invalid image data:",e),null;const t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const o=new Blob([s.buffer],{type:"image/jpeg"});return URL.createObjectURL(o)}catch(t){return console.error("Error converting image data:",t),null}},async fetchImages(){try{const e=await fetch("/backend/Images"),t=await e.json();console.log("Retrieved images:",t),this.images=t}catch(e){console.error("Failed to fetch images:",e)}},async deleteImage(e){try{const t=await fetch(`/backend/Images/${e}`,{method:"DELETE"});t.ok?(console.log("Image deleted:",e),this.$emit("imageDeleted")):console.error("Failed to delete image:",e)}catch(t){console.error("Error deleting image:",t)}},handleSelectImage(e){this.$emit("selectImage",e)}}};const G=(0,S.Z)(N,[["render",M],["__scopeId","data-v-70e0de69"]]);var J=G;const Q={key:0,class:"outfit-view-desktop"},X={class:"outfit-view"},ee=["src"],te=["onClick"],se={key:0,class:"empty-message"},oe={key:1,class:"outfit-view-mobile"},ae={class:"outfit-view"},le=["src"],ie=["onClick"],ne={key:0,class:"empty-message"};function ce(e,t,s,o,l,i){return(0,a.wg)(),(0,a.iD)("div",null,[l.isDesktop?((0,a.wg)(),(0,a.iD)("div",Q,[(0,a._)("div",X,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.selectedItems,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"item"},[e&&e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:i.getImageUrl(e.image),alt:"Selected Item"},null,8,ee)):(0,a.kq)("",!0),(0,a._)("div",null,(0,O.zw)(e.image.category),1),(0,a._)("button",{onClick:s=>i.removeItem(e,t)},"Remove",8,te)])))),128)),0===Object.keys(s.selectedItems).length?((0,a.wg)(),(0,a.iD)("div",se,"No items selected")):(0,a.kq)("",!0)])])):((0,a.wg)(),(0,a.iD)("div",oe,[(0,a._)("div",ae,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(s.selectedItems,((e,t)=>((0,a.wg)(),(0,a.iD)("div",{key:t,class:"item"},[e&&e.image?((0,a.wg)(),(0,a.iD)("img",{key:0,src:i.getImageUrl(e.image),alt:"Selected Item"},null,8,le)):(0,a.kq)("",!0),(0,a._)("div",null,(0,O.zw)(e.image.category),1),(0,a._)("button",{onClick:s=>i.removeItem(e,t)},"Remove",8,ie)])))),128)),0===Object.keys(s.selectedItems).length?((0,a.wg)(),(0,a.iD)("div",ne,"No items selected")):(0,a.kq)("",!0)])]))])}var re={props:{selectedItems:{type:Object}},data(){return{isDesktop:!1}},methods:{removeItem(e,t){if("accessories"===t){const s=this.selectedItems.accessories.indexOf(e);-1!==s&&this.$emit("remove-item",e,t)}else this.$emit("remove-item",e,t)},getImageUrl(e){console.log(e);try{if(!e)return console.error("Invalid image data:",e),null;const t=atob(e),s=new Uint8Array(t.length);for(let e=0;e<t.length;e++)s[e]=t.charCodeAt(e);const o=new Blob([s.buffer],{type:"image/jpeg"});return URL.createObjectURL(o)}catch(t){return console.error("Error converting image data:",t),null}}}};const de=(0,S.Z)(re,[["render",ce],["__scopeId","data-v-2b695c86"]]);var me=de,ge={name:"App",components:{ImageUploader:C,PhotoStream:J,OutfitView:me},props:{images:{type:Array,default:()=>[]}},data(){return{isDesktop:!1,selectedItems:{shoes:null,bottom:null,top:null,onePiece:null,hat:null,accessories:[]}}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},refreshPhotostream(){this.$refs.photostream.fetchImages()},handleSelectImage(e){const{category:t}=e;if("shoes"===t)this.selectedItems.shoes=e,this.selectedItems.onePiece=null,this.selectedItems.top=null,this.selectedItems.bottom=null;else if("bottom"===t)this.selectedItems.bottom=e,this.selectedItems.onePiece=null,this.selectedItems.top=null;else if("top"===t)this.selectedItems.top=e,this.selectedItems.onePiece=null,this.selectedItems.bottom=null;else if("hat"===t)this.selectedItems.hat=e;else if("accessories"===t){if(this.selectedItems.accessories.length>=3)return;this.selectedItems.accessories.push(e)}else"onePiece"===t&&(this.selectedItems.onePiece=e,this.selectedItems.shoes=null,this.selectedItems.bottom=null,this.selectedItems.top=null)},handleRemoveItem(e){"accessories"===e?this.selectedItems.accessories=[]:this.selectedItems[e]=null}}};const ue=(0,S.Z)(ge,[["render",u]]);var he=ue;(0,o.ri)(he).mount("#app")}},t={};function s(o){var a=t[o];if(void 0!==a)return a.exports;var l=t[o]={exports:{}};return e[o].call(l.exports,l,l.exports,s),l.exports}s.m=e,function(){var e=[];s.O=function(t,o,a,l){if(!o){var i=1/0;for(d=0;d<e.length;d++){o=e[d][0],a=e[d][1],l=e[d][2];for(var n=!0,c=0;c<o.length;c++)(!1&l||i>=l)&&Object.keys(s.O).every((function(e){return s.O[e](o[c])}))?o.splice(c--,1):(n=!1,l<i&&(i=l));if(n){e.splice(d--,1);var r=a();void 0!==r&&(t=r)}}return t}l=l||0;for(var d=e.length;d>0&&e[d-1][2]>l;d--)e[d]=e[d-1];e[d]=[o,a,l]}}(),function(){s.d=function(e,t){for(var o in t)s.o(t,o)&&!s.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};s.O.j=function(t){return 0===e[t]};var t=function(t,o){var a,l,i=o[0],n=o[1],c=o[2],r=0;if(i.some((function(t){return 0!==e[t]}))){for(a in n)s.o(n,a)&&(s.m[a]=n[a]);if(c)var d=c(s)}for(t&&t(o);r<i.length;r++)l=i[r],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(d)},o=self["webpackChunkyour_vue_project"]=self["webpackChunkyour_vue_project"]||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))}();var o=s.O(void 0,[998],(function(){return s(5776)}));o=s.O(o)})();
//# sourceMappingURL=app.60f275b9.js.map