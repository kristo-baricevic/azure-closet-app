(function(){"use strict";var e={3223:function(e,t,o){var s=o(9963),l=o(6252);const a={class:"body-container"},n=(0,l._)("nav",{class:"navbar"},[(0,l._)("ul",{class:"navbar-menu"},[(0,l._)("li",null,[(0,l._)("a",{href:"/"},"Kristo's Closet")])])],-1),i={key:0,class:"desktop-layout"},c={class:"photostream-container resizable"},r={class:"outfit-view-container resizable"},m={key:1,class:"mobile-layout"},d={class:"photostream-container resizable"},g={class:"outfit-view-container resizable"};function h(e,t,o,s,h,u){const I=(0,l.up)("ImageUploader"),p=(0,l.up)("PhotoStream"),v=(0,l.up)("OutfitView");return(0,l.wg)(),(0,l.iD)("div",a,[n,(0,l._)("div",null,[(0,l.Wm)(I,{msg:"Welcome to The Image Uploader!",onImageUploaded:u.refreshPhotostream},null,8,["onImageUploaded"])]),h.isDesktop?((0,l.wg)(),(0,l.iD)("div",i,[(0,l._)("div",c,[(0,l.Wm)(p,{selectedItems:h.selectedItems,images:o.images,ref:"photostream",onImageDeleted:u.refreshPhotostream,onSelectImage:u.handleSelectImage},null,8,["selectedItems","images","onImageDeleted","onSelectImage"])]),(0,l._)("div",r,[(0,l.Wm)(v,{selectedItems:h.selectedItems,onRemoveItem:u.handleRemoveItem,class:"outfit-view-desktop"},null,8,["selectedItems","onRemoveItem"])])])):((0,l.wg)(),(0,l.iD)("div",m,[(0,l._)("div",d,[(0,l.Wm)(p,{selectedItems:h.selectedItems,localSelectedItems:e.localSelectedItems,images:o.images,ref:"photostream",onImageDeleted:u.refreshPhotostream,onSelectImage:u.handleSelectImage},null,8,["selectedItems","localSelectedItems","images","onImageDeleted","onSelectImage"])]),(0,l._)("div",g,[(0,l.Wm)(v,{selectedItems:h.selectedItems,onRemoveItem:u.handleRemoveItem,class:"outfit-view-mobile"},null,8,["selectedItems","onRemoveItem"])])]))])}o(7658);const u=e=>((0,l.dD)("data-v-ef2b5118"),e=e(),(0,l.Cn)(),e),I=u((()=>(0,l._)("h1",null,"Image Classification",-1))),p=u((()=>(0,l._)("label",{for:"category"},"Category:",-1))),v=(0,l.uE)('<option value="Top" data-v-ef2b5118>Top</option><option value="Bottom" data-v-ef2b5118>Bottom</option><option value="onePiece" data-v-ef2b5118>One-piece</option><option value="Shoes" data-v-ef2b5118>Shoes</option><option value="Hat" data-v-ef2b5118>Hat</option><option value="Accessory" data-v-ef2b5118>Accessory</option>',6),f=[v],y=u((()=>(0,l._)("button",{id:"classifyButton",type:"submit"},"Classify Image",-1))),w=u((()=>(0,l._)("p",{id:"resultLabel"},null,-1))),b={id:"imageContainer"},k=["src"];function S(e,t,o,a,n,i){return(0,l.wg)(),(0,l.iD)("div",null,[I,(0,l._)("form",{id:"imageForm",onSubmit:t[2]||(t[2]=(0,s.iM)(((...e)=>i.classifyImage&&i.classifyImage(...e)),["prevent"]))},[p,(0,l.wy)((0,l._)("select",{id:"category","onUpdate:modelValue":t[0]||(t[0]=e=>n.selectedCategory=e),required:""},f,512),[[s.bM,n.selectedCategory]]),(0,l._)("input",{type:"file",id:"imageFile",accept:".jpg,.jpeg,.png,.gif",required:"",onChange:t[1]||(t[1]=(...e)=>i.handleFileUpload&&i.handleFileUpload(...e))},null,32),y],32),w,(0,l._)("div",b,[n.imageUrl?((0,l.wg)(),(0,l.iD)("img",{key:0,id:"uploadedImage",alt:"Uploaded Image",src:n.imageUrl},null,8,k)):(0,l.kq)("",!0)])])}o(2062);var _={name:"ImageUploader",data(){return{imageUrl:null,selectedCategory:""}},methods:{handleFileUpload(e){const t=e.target.files[0];this.imageUrl=URL.createObjectURL(t)},classifyImage(){const e=document.getElementById("imageFile").files[0],t=new FormData;t.append("imageFile",e),t.append("category",this.selectedCategory),fetch("/backend/Upload",{method:"POST",body:t}).then((e=>e.json())).then((e=>{this.imageUrl=null,this.$emit("imageUploaded"),console.log(e)})).catch((e=>{console.log(e)}))}}},C=o(3744);const D=(0,C.Z)(_,[["render",S],["__scopeId","data-v-ef2b5118"]]);var U=D,O=o(3577);const L=e=>((0,l.dD)("data-v-8f2ea7a6"),e=e(),(0,l.Cn)(),e),j={key:0},z=L((()=>(0,l._)("h1",null,"Photo Stream",-1))),R={class:"photo-stream"},P=["onClick"],E=["src"],F={class:"card-info"},A=["onClick"],W={class:"image-category"},q=["onClick"],x={key:1},T=L((()=>(0,l._)("h1",null,"Photo Stream",-1))),$={class:"photo-stream"},B=["onClick"],G=["src"],H={class:"card-info"},K=["onClick"],Y={class:"image-category"},Z=["onClick"];function N(e,t,o,s,a,n){return(0,l.wg)(),(0,l.iD)("div",null,[a.isDesktop?((0,l.wg)(),(0,l.iD)("div",j,[z,(0,l._)("div",R,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.images,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:e.id,onClick:t=>n.openImage(e)},[(0,l._)("img",{class:"card-image",src:n.getImageUrl(e.data),alt:"Photo"},null,8,E),(0,l._)("div",F,[(0,l._)("button",{class:"delete-button",onClick:t=>n.deleteImage(e.id)},"Delete",8,A),(0,l._)("div",W,(0,O.zw)(e.category),1),(0,l._)("button",{class:"select-button",onClick:t=>n.handleSelectImage(e)},"Select",8,q)])],8,P)))),128))])])):((0,l.wg)(),(0,l.iD)("div",x,[T,(0,l._)("div",$,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(a.images,(e=>((0,l.wg)(),(0,l.iD)("div",{class:"card",key:e.id,onClick:t=>n.openImage(e)},[(0,l._)("img",{class:"card-image",src:n.getImageUrl(e.data),alt:"Photo"},null,8,G),(0,l._)("div",H,[(0,l._)("button",{class:"delete-button",onClick:t=>n.deleteImage(e.id)},"Delete",8,K),(0,l._)("div",Y,(0,O.zw)(e.category),1),(0,l._)("button",{class:"select-button",onClick:t=>n.handleSelectImage(e)},"Select",8,Z)])],8,B)))),128))])]))])}o(2801),o(8675),o(3408),o(4590),o(3462),o(1439),o(7585),o(5315);var V={data(){return{isDesktop:!1,images:[]}},mounted(){this.fetchImages(),this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},openImage(){},getImageUrl(e){try{if(!e)return console.error("Invalid image data:",e),null;const t=atob(e),o=new Uint8Array(t.length);for(let e=0;e<t.length;e++)o[e]=t.charCodeAt(e);const s=new Blob([o.buffer],{type:"image/jpeg"});return URL.createObjectURL(s)}catch(t){return console.error("Error converting image data:",t),null}},async fetchImages(){try{const e=await fetch("/backend/Images"),t=await e.json();console.log("Retrieved images:",t),this.images=t}catch(e){console.error("Failed to fetch images:",e)}},async deleteImage(e){try{const t=await fetch(`/backend/Images/${e}`,{method:"DELETE"});t.ok?(console.log("Image deleted:",e),this.$emit("imageDeleted")):console.error("Failed to delete image:",e)}catch(t){console.error("Error deleting image:",t)}},handleSelectImage(e){this.$emit("selectImage",e),console.log("handleSelectImage connected:",e)}}};const M=(0,C.Z)(V,[["render",N],["__scopeId","data-v-8f2ea7a6"]]);var J=M;const Q={key:0,class:"outfit-view-desktop"},X={class:"outfit-view"},ee={class:"item-image-wrapper"},te=["src"],oe={class:"item-info"},se=["onClick"],le={key:0,class:"empty-message"},ae={key:1,class:"outfit-view-mobile"},ne={class:"outfit-view"},ie={class:"item-image-wrapper"},ce=["src"],re={class:"item-info"},me=["onClick"],de={key:0,class:"empty-message"};function ge(e,t,o,s,a,n){return(0,l.wg)(),(0,l.iD)("div",null,[a.isDesktop?((0,l.wg)(),(0,l.iD)("div",Q,[(0,l._)("div",X,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.selectedItems,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"item"},[(0,l._)("div",ee,[e?((0,l.wg)(),(0,l.iD)("img",{key:0,src:n.getImageUrl(e),alt:"Selected Item"},null,8,te)):(0,l.kq)("",!0)]),(0,l._)("div",oe,[(0,l._)("div",null,(0,O.zw)(t),1),(0,l._)("button",{onClick:o=>n.removeItem(e,t)},"Remove",8,se)])])))),128)),0===Object.keys(o.selectedItems).length?((0,l.wg)(),(0,l.iD)("div",le,"No items selected")):(0,l.kq)("",!0)])])):((0,l.wg)(),(0,l.iD)("div",ae,[(0,l._)("div",ne,[((0,l.wg)(!0),(0,l.iD)(l.HY,null,(0,l.Ko)(o.selectedItems,((e,t)=>((0,l.wg)(),(0,l.iD)("div",{key:t,class:"item"},[(0,l._)("div",ie,[e?((0,l.wg)(),(0,l.iD)("img",{key:0,src:n.getImageUrl(e),alt:"Selected Item"},null,8,ce)):(0,l.kq)("",!0)]),(0,l._)("div",re,[(0,l._)("div",null,(0,O.zw)(t),1),(0,l._)("button",{onClick:o=>n.removeItem(e,t)},"Remove",8,me)])])))),128)),0===Object.keys(o.selectedItems).length?((0,l.wg)(),(0,l.iD)("div",de,"No items selected")):(0,l.kq)("",!0)])]))])}var he={props:{selectedItems:{type:Object}},data(){return{isDesktop:!1}},mounted(){console.log("selectedItems prop:",this.selectedItems)},methods:{removeItem(e,t){if(console.log("remove items clicked",e),console.log("remove categories clicked",t),"accessory"===t){const o=this.selectedItems.accessory.indexOf(e);-1!==o&&this.$emit("removeItem",e,t)}else this.$emit("removeItem",this.selectedItems[t],t);console.log("remove items has run",t)},getImageUrl(e){console.log(e),console.log(e.data);const t=e.data;console.log(t);try{if(!e)return console.error("Invalid image data:",e),null;const o=atob(t),s=new Uint8Array(o.length);for(let e=0;e<o.length;e++)s[e]=o.charCodeAt(e);const l=new Blob([s.buffer],{type:"image/jpeg"});return URL.createObjectURL(l)}catch(o){return console.error("Error converting image data:",o),null}}}};const ue=(0,C.Z)(he,[["render",ge]]);var Ie=ue,pe={name:"App",components:{ImageUploader:U,PhotoStream:J,OutfitView:Ie},props:{images:{type:Array,default:()=>[]}},data(){return{isDesktop:!1,selectedItems:{shoes:null,bottom:null,top:null,onepiece:null,hat:null,accessory:[]}}},mounted(){this.checkScreenSize(),window.addEventListener("resize",this.checkScreenSize)},beforeUnmount(){window.removeEventListener("resize",this.checkScreenSize)},methods:{checkScreenSize(){this.isDesktop=window.innerWidth>=768},refreshPhotostream(){this.$refs.photostream.fetchImages()},handleSelectImage(e){const{category:t}=e;console.log("handleSelectImage hit:",e),console.log("handleSelectImage hit:",e),"shoes"===t.toLowerCase()?(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.shoes=e):"bottom"===t.toLowerCase()?(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.bottom=e,this.selectedItems.onepiece=null):"top"===t.toLowerCase()?(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.top=e,this.selectedItems.onepiece=null):"hat"===t.toLowerCase()?(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.hat=e):"accessory"===t.toLowerCase()?(console.log("handleSelectImage LOGIC hit:",t),2===this.selectedItems.accessory.length?console.log("too many accessories"):(this.selectedItems.accessory.push(e),console.log("accessory added"))):"onepiece"===t.toLowerCase()&&(console.log("handleSelectImage LOGIC hit:",t),this.selectedItems.onepiece=e,this.selectedItems.top=null,this.selectedItems.bottom=null),console.log("Updated selectedItems:",this.selectedItems)},handleRemoveItem(e,t){if(console.log("handleRemoveItem ran:",t),"accessory"===t){const t=this.selectedItems.accessory.indexOf(e);-1!==t&&this.selectedItems.accessory.splice(t,1)}else console.log("else remove RAN:",this.selectedItems[t]),this.selectedItems[t]=null}}};const ve=(0,C.Z)(pe,[["render",h]]);var fe=ve;(0,s.ri)(fe).mount("#app")}},t={};function o(s){var l=t[s];if(void 0!==l)return l.exports;var a=t[s]={exports:{}};return e[s].call(a.exports,a,a.exports,o),a.exports}o.m=e,function(){var e=[];o.O=function(t,s,l,a){if(!s){var n=1/0;for(m=0;m<e.length;m++){s=e[m][0],l=e[m][1],a=e[m][2];for(var i=!0,c=0;c<s.length;c++)(!1&a||n>=a)&&Object.keys(o.O).every((function(e){return o.O[e](s[c])}))?s.splice(c--,1):(i=!1,a<n&&(n=a));if(i){e.splice(m--,1);var r=l();void 0!==r&&(t=r)}}return t}a=a||0;for(var m=e.length;m>0&&e[m-1][2]>a;m--)e[m]=e[m-1];e[m]=[s,l,a]}}(),function(){o.d=function(e,t){for(var s in t)o.o(t,s)&&!o.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};o.O.j=function(t){return 0===e[t]};var t=function(t,s){var l,a,n=s[0],i=s[1],c=s[2],r=0;if(n.some((function(t){return 0!==e[t]}))){for(l in i)o.o(i,l)&&(o.m[l]=i[l]);if(c)var m=c(o)}for(t&&t(s);r<n.length;r++)a=n[r],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(m)},s=self["webpackChunkyour_vue_project"]=self["webpackChunkyour_vue_project"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=o.O(void 0,[998],(function(){return o(3223)}));s=o.O(s)})();
//# sourceMappingURL=app.8f98d30e.js.map